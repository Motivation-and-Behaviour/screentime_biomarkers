---
title: "Untitled Draft"
author: "Report Author"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output: word_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
## source(here::here("packages.R"))
## lapply(list.files(here::here("./R"), full.names = TRUE), source)
```

```{r load-targets, include=FALSE}
library(targets)
library(gtsummary)
tar_load(c(table1, outcomes_table, scored_data, model_fit_measures))
```

```{r results_nums, include=FALSE}
health_excluded <- dplyr::filter(scored_data, health_condition == "Health condition")
n_health_excluded <- n_distinct(health_excluded$id)
```

# Results

We excluded `r nrow(health_excluded)` data points from `r n_health_excluded` participants with a reported health condition at the Checkpoint data collection point.
Table \@ref(tab:table1) provides an overview of the demographic, anthropometric, and cardio-metabolic characteristics of the remaining `r inline_text(table1, variable = "age", column = "Checkpoint", pattern = "{N_obs}")` participants.
The cohort was evenly distributed by sex, with `r inline_text(table1, variable = "sex", column = "Wave 6", level = "Female", pattern = "{p}%")` females across all wave points.
Majority of participants were non-Indigenous (98%), which is representative of the population.
The participant cohort was predominantly in early to mid-puberty, with the majority classified as Tanner stages 2 `r inline_text(table1, variable = "sexualmaturity", column = "Checkpoint", level = "Tanner2", pattern = "{p}%")` and 3 `r inline_text(table1, variable = "sexualmaturity", column = "Checkpoint", level = "Tanner3", pattern = "{p}%")`.
The LSAC is designed to be representative of the Australian population, and therefore the standardized socioeconomic status indicator is expected to have a mean of 0 (standard deviation = 1).
Participants included in the Checkpoint data were on average from slightly higher socioeconomic families than the entire LSAC dataset (Wave 3 mean `r inline_text(table1, variable = "ses", column = "Wave 3", pattern = "{mean}; SD = {sd}")
`).
Participants average total screen time increased steadily across the study period, from a mean of `r inline_text(table1, variable = "st_total", column = "Wave 3", pattern = "{mean} minutes per week (SD = {sd})")` to `r inline_text(table1, variable = "st_total", column = "Wave 6", pattern = "{mean} minutes per week (SD = {sd})")` in Wave 6.

```{r model_fit, include=FALSE}
min_cfi <- sprintf("%1.2f", min(fit_measures$cfi))
max_cfis <- sprintf("%1.2f", max(fit_measures$cfi))
min_rmsea <- sprintf("%1.2f", min(fit_measures$rmsea))
max_rmseas <- sprintf("%1.2f", max(fit_measures$rmsea))
```

We fit latent growth curve models to estimate trajectories of screen time over time, and to examine if these trajectories were associated with health outcomes.
The model fit was considered acceptable, with comparative fit indices ranging from `r min_cfi` to `r max_cfis`, and root mean square error of approximation ranging from `r min_rmsea` to `r max_rmseas`.

```{r outcomes, include=FALSE}
p_out <- function(var, type) {
  glue::glue(
    "\beta = "
  )
}

inline_text(outcomes_table, variable = "vo2_w6.5", level = "Screen Time Trajectory Intercept", pattern ="{estimate_1}")

"Screen Time Trajectory Slope"
```

The results for the association between screen time trajectories and health outcomes are presented in Table \@ref(tab:outcomes_table).
After adjusting for movement behaviours, we found no evidence of associations between screen time trajectories and total cardio-metabolic risk score, ApoB/ApoA1 ratio, glycoprotein acetyls, phospholips, triglycerides, glucose, measurse of cholesterol, and measures of blood pressure.
We did, however, find evidence that children's inital screen time (i.e., trajectory intercept) was associated with lower levels of cardiorespiratory fitness


# Tables

```{r table-1}
gtsummary::as_flex_table(table1)
```

```{r outcomes_table}
gtsummary::as_flex_table(outcomes_table)

inline_text(table1, variable = "st_total", column = "Wave 3", pattern = "{mean} minutes per week (SD = {sd})")

```

